<div>
   <header class="top-bar">
      <div class="logo">POE Profit</div>
   </header>
   <div class="background">
      <div class="overlay"></div>
      <div class="bosses-content-panel">
         <div class="bosses-content-container">
            <div class="bosses-summary">
               <div class="boss-header">
                  <h2 class="bosses-title">Bosses</h2>
               </div>
               <div class="bosses-description-container-wrapper" (click)="showMore = !showMore">
               <div class="bosses-description-container" [class.expanded]="showMore">
                <p class="bosses-description">
                  Bosses are tough encounters that drop valuable loot but come with an entry cost. <br>
                  The table shows which boss gives you the <strong style="color: #efcd5c;">highest profit per run</strong>.<br>
                  Profits are estimated using the expected reward value (<span style="color: #98fb98;">drop rate Ã— item price</span>) minus the <span style="color: #ff5555;">cost of the fight</span>.<br>
                  <strong style="color: #4fc3f7;">Click on each boss</strong> to get more information.
               </p>
               </div>
               <span class="bosses-description-icon" (click)="showMore = !showMore">
                <mat-icon>{{ showMore ? 'expand_less' : 'expand_more' }}</mat-icon>
              </span>
              </div>
            </div>
            <div class="bosses-table-wrapper">
               <table class="bosses-table">
                  <thead>
                     <tr>
                        <th class="header-item">
                          <span class="sortable" (click)="sort('name')">
                            Name
                            <span class="sort-icon-wrapper" [ngClass]="getSortDirection('name')">
                              <mat-icon class="sort-icon">unfold_more</mat-icon>
                            </span>
                          </span>
                        </th>
                        <th class="header-currency">
                          <span class="sortable" (click)="sort('costInChaos')">
                            Cost
                            <span class="sort-icon-wrapper" [ngClass]="getSortDirection('costInChaos')">
                              <mat-icon class="sort-icon">unfold_more</mat-icon>
                            </span>
                          </span>
                        </th>
                        <th class="header-currency">
                          <span class="sortable" (click)="sort('expectedValueInChaos')">
                            Value
                            <span class="sort-icon-wrapper" [ngClass]="getSortDirection('expectedValueInChaos')">
                              <mat-icon class="sort-icon">unfold_more</mat-icon>
                            </span>
                          </span>
                        </th>
                        <th class="header-currency">
                          <span class="sortable" (click)="sort('profitInChaos')">
                            Profit
                            <span class="sort-icon-wrapper" [ngClass]="getSortDirection('profitInChaos')">
                              <mat-icon class="sort-icon">unfold_more</mat-icon>
                            </span>
                          </span>
                        </th>
                     </tr>
                  </thead>
                  <tbody>
                     @for (boss of bosses; track boss.id) {
                     <tr (click)="goToBoss(boss.id)" class="boss-clickable-row">
                        <td>
                           <div class="cell-contents-item">
                              <img
                                 [src]="boss.icon"
                                 alt="{{ boss.name }} icon"
                                 class="item-icon"
                              />
                              {{ boss.name }}
                           </div>
                        </td>
                        <td>
                           <div class="cell-contents-currency">
                              {{ boss.costInChaos | number : '1.0-0' }}
                              <img 
                                 [src]="'chaos-orb.png'"
                                 alt="Chaos Orb" 
                                 class="item-icon"
                                 />
                           </div>
                        </td>
                        <td>
                           <div class="cell-contents-currency">
                              {{ boss.expectedValueInChaos | number : '1.0-0' }}
                              <img 
                                 [src]="'chaos-orb.png'"
                                 alt="Chaos Orb" 
                                 class="item-icon"
                                 />
                           </div>
                        </td>
                        <td>
                           <div class="cell-contents-currency"
                                [style.color]="getProfitColor(boss.profitInChaos)"
                           >
                              {{ boss.profitInChaos | number : '1.0-0' }}
                              <img 
                                 [src]="'chaos-orb.png'"
                                 alt="Chaos Orb" 
                                 class="item-icon"
                                 />
                           </div>
                        </td>
                     </tr>
                     }
                  </tbody>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>
