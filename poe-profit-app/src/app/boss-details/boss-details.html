<div>
  <!-- üîπ Top bar -->
  <header class="top-bar">
    <div class="logo">POE Profit</div>
  </header>

  <div class="background">

    <div class="overlay"></div>
    
    <!-- üîπ Main content panel -->
    <div class="content-panel">
      <div class="content-container">

        <button class="back-button" (click)="goBack()">
          ‚Üê Back
        </button>

        @if (boss) {
<div class="boss-summary-container">
  <!-- Left: Name + Cards -->
  <div class="left-section">
    <!-- Boss Name -->
     <h2 class="boss-name">
      @if (boss.wikiUrl) {
        <a 
          [href]="boss.wikiUrl" 
          target="_blank" 
          rel="noopener noreferrer"
        >
          {{ boss.name }}
        </a>
      } @else {
        {{ boss.name }}
      }
      </h2>

    <!-- Cards -->
    <div class="cards-container">
      <div class="info-card">
        <h4 class="card-label">Cost</h4>
        <h3 class="card-value cost">
          {{ boss.costInChaos | number : '1.0-0' }}c
        </h3>
      </div>

      <div class="info-card">
        <h4 class="card-label">Expected Value</h4>
        <h3 class="card-value value">
          {{ boss.expectedValueInChaos | number : '1.0-0' }}c
        </h3>
      </div>

      <div
        class="info-card"
        [ngClass]="{
          'profit-positive': boss.profitInChaos > 0,
          'profit-negative': boss.profitInChaos < 0
        }"
      >
        <h4 class="card-label">Profit</h4>
        <h3 class="card-value">
          {{ boss.profitInChaos | number : '1.0-0' }}c
        </h3>
      </div>
    </div>
  </div>

  <!-- Right: Boss Image -->
  <div class="boss-image-container">
    <img
      [src]="boss.imageUrl"
      [alt]="boss.name"
      class="boss-image"
    />
  </div>
</div>



        <h3>Cost Breakdown</h3>

        <div class="table-wrapper">
        <table class="bosses-table">
          <thead>
            <tr>
              <th>Item</th>
              <th>Price</th>
              <th>Quantity</th>
              <th>Total Cost</th>
            </tr>
          </thead>
          <tbody>
            @for (cost of boss.costs; track cost.name) {
              <tr>
                <td>
                  <img 
                    [src]="cost.icon" 
                    alt="{{ cost.name }}" 
                    class="item-icon"
                  />
                  {{ cost.name }}
                </td>
                <td>
                  {{ cost.chaosValue | number : '1.0-0' }}
                  <img 
                      [src]="'chaos-orb.png'"
                      alt="Chaos Orb" 
                      class="item-icon"
                    />
                </td>
                <td>{{ cost.quantity }}</td>
                <td>
                  {{ cost.totalCost | number : '1.0-0' }}
                  <img 
                      [src]="'chaos-orb.png'"
                      alt="Chaos Orb" 
                      class="item-icon"
                    />
                </td>
              </tr>
            }
          </tbody>
        </table>
        </div>

<h3>Reward List</h3>

        <div class="table-wrapper">
        <table class="bosses-table">
          <thead>
            <tr>
              <th>Item</th>
              <th>Price</th>
              <th>Drop Rate</th>
              <th>Expected Value</th>
            </tr>
          </thead>
          <tbody>
            @for (reward of boss.rewards; track reward.name) {
              <tr>
                <td>
                  <img 
                    [src]="reward.icon" 
                    alt="{{ reward.name }}" 
                    class="item-icon"
                  />
                  {{ reward.name }}
                </td>
                <td>
                  {{ reward.chaosValue | number : '1.0-0' }}
                  <img 
                      [src]="'chaos-orb.png'"
                      alt="Chaos Orb" 
                      class="item-icon"
                    />
                </td>
                <td>{{ reward.probability | number:'1.1-1' }}%</td>
                <td>
                  {{ reward.expectedValue | number : '1.0-0' }}
                  <img 
                      [src]="'chaos-orb.png'"
                      alt="Chaos Orb" 
                      class="item-icon"
                    />
                </td>
              </tr>
            }
          </tbody>
        </table>
</div>
}
      </div>
    </div>
  </div>
</div>